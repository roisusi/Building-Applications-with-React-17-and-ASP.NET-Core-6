<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Document</title>
  </head>
  <body>
    <span>Promises and Async Programming</span>

    <script>
      function consumeWebService() {
        //#1 then
        fetch("https://jsonplaceholder.typicode.com/todos/2")
          .then((response) => response.json())
          //#2 then
          .catch((error) => alert("somthing bad happend"))
          .then((json) => console.log(json));
      }

      consumeWebService();

      //another way async- wait

      async function consumeWebService2() {
        try {
          const response = await fetch(
            "https://jsonplaceholder.typicode.com/todos/2"
          );
          const json = await response.json();
          console.log(json);
        } catch (ex) {
          alert("somthing bad happend");
        }
      }

      consumeWebService2();
    </script>
  </body>
</html>
